{"code":"const roles = {\n    harvester: (data) => ({\n        prepare: creep => {\n            if (!data.sourceId) {\n                console.log(\"HarvesterConfig.sourceId is undefined\");\n                return false;\n            }\n            let source;\n            if (creep.memory.data.sourceId)\n                source = Game.getObjectById(creep.memory.data.sourceId);\n            else\n                source = Game.getObjectById(data.sourceId);\n            if (source && creep.harvest(source) == ERR_NOT_IN_RANGE) {\n                creep.moveTo(source);\n                return false;\n            }\n            //arrive at source\n            return true;\n        },\n        source: creep => {\n            if (!data.sourceId) {\n                console.log(\"HarvesterConfig.sourceId is undefined\");\n                return false;\n            }\n            let source;\n            source = Game.getObjectById(data.sourceId);\n            if (!source) {\n                console.log(\"HarvesterConfig.sourceId is undefined\");\n                return false;\n            }\n            creep.harvest(source);\n            if (creep.store.getFreeCapacity() > 0)\n                return false;\n            //Harvest complete and start to go to targetContainer\n            return true;\n        },\n        target: creep => {\n            //For now, let assume target is the closest container/spawn\n            let target;\n            //get closest container\n            target = creep.pos.findClosestByPath(FIND_STRUCTURES, {\n                filter: (structure) => {\n                    return (structure.structureType == STRUCTURE_CONTAINER || structure.structureType == STRUCTURE_STORAGE || structure.structureType == STRUCTURE_SPAWN) &&\n                        structure.store.getFreeCapacity(RESOURCE_ENERGY) > 0;\n                }\n            });\n            creep.memory.data.targetId = target === null || target === void 0 ? void 0 : target.id;\n            if (target && creep.transfer(target, RESOURCE_ENERGY) == ERR_NOT_IN_RANGE) {\n                creep.moveTo(target);\n                return false;\n            }\n            if (!target) {\n                console.log(\"HarvesterConfig.containerId is undefined\");\n                return true;\n            }\n            //arrive at target\n            return true;\n        },\n        bodys: [WORK, CARRY, MOVE],\n    }),\n    upgrader: (data) => ({\n        prepare: creep => {\n            return true;\n        },\n        source: creep => {\n            return true;\n        },\n        target: creep => {\n            return true;\n        },\n        bodys: [WORK, CARRY, MOVE],\n    }),\n    builder: (data) => ({\n        prepare: creep => {\n            return true;\n        },\n        source: creep => {\n            return true;\n        },\n        target: creep => {\n            return true;\n        },\n        bodys: [WORK, CARRY, MOVE],\n    }),\n    claimer: (data) => ({\n        prepare: creep => {\n            return true;\n        },\n        source: creep => {\n            return true;\n        },\n        target: creep => {\n            return true;\n        },\n        bodys: [WORK, CARRY, MOVE],\n    }),\n    soldier: (data) => ({\n        prepare: creep => {\n            return true;\n        },\n        source: creep => {\n            return true;\n        },\n        target: creep => {\n            return true;\n        },\n        bodys: [WORK, CARRY, MOVE],\n    }),\n};\nexport default roles;\n//# sourceMappingURL=base.js.map","references":[],"map":"{\"version\":3,\"file\":\"base.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/role/base.ts\"],\"names\":[],\"mappings\":\"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\"}"}
